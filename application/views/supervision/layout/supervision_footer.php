



</div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
 

    <div class="float-right d-none d-sm-block">
      <!--<b>Version</b> 3.2.0-->
    </div>
    <center><strong>Copyright &copy; <?php echo date("Y"); ?>.</strong> All rights reserved.</center>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->


<!-- jQuery -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery-validation/jquery.validate.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery-validation/additional-methods.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/summernote/summernote-bs4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/codemirror.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/css/css.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/xml/xml.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/htmlmixed/htmlmixed.js"></script>

<script src="<?php echo base_url(); ?>assets/admin/plugins/select2/js/select2.full.min.js"></script>
<!-- Bootstrap4 Duallistbox -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/moment/moment.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/inputmask/jquery.inputmask.min.js"></script>
<!-- date-range-picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/dropzone/min/dropzone.min.js"></script>
<!-- AdminLTE App -->
<script src="<?php echo base_url(); ?>assets/admin/dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="<?php echo base_url(); ?>assets/admin/dist/js/demo.js"></script>

<!-- Page specific script -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/select2/js/select2.full.min.js"></script>

<!-- Summernote -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/summernote/summernote-bs4.min.js"></script>
<!-- CodeMirror -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/codemirror.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/css/css.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/xml/xml.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/htmlmixed/htmlmixed.js"></script>


<!-- date-range-picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/dropzone/min/dropzone.min.js"></script>



<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/moment/moment.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/inputmask/jquery.inputmask.min.js"></script>

<!-- DataTables  & Plugins -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jszip/jszip.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/pdfmake/pdfmake.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/pdfmake/vfs_fonts.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.print.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

<script>
  $(function () {
    $("#example1").DataTable({
      "responsive": true, "lengthChange": false, "autoWidth": false,
      "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
    }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
      "responsive": true,
    });
  });
</script>

<!-- <script>
        $(document).on('click', '.newid', function(){  
        var button_id = $(this).attr("attr_hold");   
      //  $('#new_row'+button_id).remove();  
      alert(button_id);
      });
</script> -->

<script>  
 $(document).ready(function(){
  $(".newid").click(function() {  
  
    // var agent_id = '1'; 

          var attrval =$(this).attr('attr_hold');
          //  var for_m_hold = $(this).val();
          //  alert(attrval);

           
           if(attrval != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>supervision/supervision_request/get_modal_val",  
                     method:"post",  
                     data:{attrval:attrval},  
                     dataType: 'json',
                     success:function(responce){ 
                      // alert('alert done');
                         if(responce = 'true')
                         {
                          console.log('now done'); 
                              // alert(responce);
                          // redirect($this->module_url_path.'agent/booking_enquiry/index');
                         }
                     }  
                });  
           } 
          }); 
      });  
 </script>

<!-- <script>  
 $(document).ready(function(){
  $(".newid").click(function() {  
  
    // var agent_id = '1'; 

          var attrval =$(this).attr('attr_hold');
          //  var for_m_hold = $(this).val();
           alert(attrval);

           
           if(attrval != '')  
           {  
                $.ajax({  
                     url:"<?php //echo base_url(); ?>supervision/supervision_request/refresh_pg",  
                     method:"post",  
                     data:{attrval:attrval},  
                     dataType: 'json',
                     success:function(responce){ 
                      // alert('alert done');
                      // alert(data['iid']);
                        if(data['iid']!='iid' ){
                          setTimeout(function(){  
                            location.reload();  
                          }1000);  
                              
                        }
                     }  
                });  
           } 
          }); 
      });  
 </script> -->


<script>
function fetchdata(){
 $.ajax({
  url: '<?php echo base_url(); ?>supervision/supervision_request/update_hold_val',
  type: 'post',
  success: function(response){
   // Perform operation on the return value
  //  alert(response);
  }
 });

//  $.ajax({
//   url: '<?php //echo base_url(); ?>supervision/supervision_request/refresh_pg',
//   type: 'post',
//   dataType: 'json',
//   success: function(response){
//    // Perform operation on the return value
//   //  alert(response);
//   $.each(response,function(index,data){       
//     // console.log(data);
//     if(data['is_hold']=='no'){
//       '#to_change'
//       $('#to_change').attr('attr_hold',data['id']);
//       '<button class="btn btn-primary btn-md newid" data-toggle="modal" attr_hold="'+data['id']+'" data-target="#myModal1_'+data['id']+'">Allocate</button>'
        
//     }
//       // $('#boarding_office_location').append('<option value="'+data['id']+'">'+data['booking_center']+'</option>');
//   });
//   }
//  });

}

$(document).ready(function(){
 setInterval(fetchdata,5000);
});

</script>

<script>  
 $(document).ready(function(){
  $(".release").click(function() {  
  
    // var agent_id = '1'; 

          var attr_cancel_val =$(this).attr('attr_cancle_btn');
          //  var for_m_hold = $(this).val();
          //  alert(attr_cancel_val);

           
           if(attr_cancel_val != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>supervision/supervision_request/release_hold",  
                     method:"post",  
                     data:{attr_cancel_val:attr_cancel_val},  
                     dataType: 'json',
                     success:function(responce){ 
                      // alert('alert done');
                         if(responce = 'true')
                         {
                          console.log('now done'); 
                              // alert(responce);
                          // redirect($this->module_url_path.'agent/booking_enquiry/index');
                         }
                     }  
                });  
           } 
          }); 
      });  
 </script>



<!-- <script type="text/javascript">  
                   
      setTimeout(function(){  

        $.ajax({  
          url:"<?php //echo base_url(); ?>supervision/supervision_request/refresh_pg",  
          method:"get",  
        //  data:{get_sess_id:get_sess_id},  
          dataType: 'json',
          success:function(responce){ 
          // alert('alert done');
          // alert(data['iid']);
          
          }
        });

    }1000);  
 
</script> -->

<script>




function fetch_sess(){
   var super_id = $('#sess_id').val();
   $.ajax({
  url: '<?php echo base_url(); ?>supervision/supervision_request/refresh_pg',
  dataType: 'json',
  success: function(response){
   $.each(response,function(index,data){    
    //console.log(data);
    //console.log(data['is_hold']);
    var btnalt_id = 'btnaltid'+data['id'];
    var btnhold_id = 'btnholdid'+data['id'];
    var btn_id= 'btnid'+data['id'];
	  var text_box_id= 'enter_code'+data['id'];
	   
    if(data['is_hold']=='yes' && data['superviser_id']!=super_id && data['status']=='no')
    {
      $('#'+btnalt_id).css("display", "none");
      $('#'+btn_id).css("display", "none");
      $('#'+btnhold_id).css("display", "block");

    }else if(data['is_hold']=='no' && data['superviser_id']=='0' && data['status']=='no')
    {
       $('#'+btnalt_id).css("display", "block");
      $('#'+btnhold_id).css("display", "none");
      $('#'+btn_id).css("display", "none");

    }else if(data['enter_code']!='' && data['status']=='yes')
    {
       $('#'+btnalt_id).css("display", "none");
      $('#'+btnhold_id).css("display", "none");
      $('#'+btn_id).css("display", "block");
	    $('#'+text_box_id).prop("disabled", true);

    }
          });
  }
 });
}

$(document).ready(function(){
 setInterval(fetch_sess,1000);
});

</script>

<!-- <script type="text/javascript">
function myFunction () {
    console.log('Executed!');

}

var interval = setInterval(function () { myFunction(); }, 6000);
</script> -->

<!-- <script type="text/javascript">
    $(document).ready(function(){
      refreshTable();
    });

    function refreshTable(){
        $('#tableHolder').load('index.php', function(){
           setTimeout(refreshTable, 5000);

           
           
        });
    }
</script> -->

<script>
$(document).ready(function () {

$('#profile_edit').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        supervision_name: {
            required: true,
        },
        mobile_number1: {
            required: true,
            maxlength:10,
            minlength:10
        },
        email: {
            required: true,
            email:true
        },
        
    },

    messages :{
        supervision_name : {
            required : "Please enter first name",
        },
        mobile_number1 : {
            required : "Please enter mobile number",
            maxlength: "Please enter maximum 10 digit number",
            minlength: "Please enter minimum 10 digit number"
        },
        email : {
            required : "Please enter email address",
            email: "Please enter a valid email address"
        },
        
    
    }
});

});

</script>

<script>
$(document).ready(function () {

$('#enter_code').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        enter_code: {
            required: true,
        },
        
    },

    messages :{
        enter_code : {
            required : "Please enter code",
        },
        
    
    }
});

});

</script>