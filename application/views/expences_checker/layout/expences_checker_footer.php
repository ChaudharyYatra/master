



</div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
 

    <div class="float-right d-none d-sm-block">
      <!--<b>Version</b> 3.2.0-->
    </div>
    <center><strong>Copyright &copy; <?php echo date("Y"); ?>.</strong> All rights reserved.</center>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->


<!-- jQuery -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery-validation/jquery.validate.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jquery-validation/additional-methods.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/summernote/summernote-bs4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/codemirror.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/css/css.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/xml/xml.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/htmlmixed/htmlmixed.js"></script>

<script src="<?php echo base_url(); ?>assets/admin/plugins/select2/js/select2.full.min.js"></script>
<!-- Bootstrap4 Duallistbox -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/moment/moment.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/inputmask/jquery.inputmask.min.js"></script>
<!-- date-range-picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/dropzone/min/dropzone.min.js"></script>
<!-- AdminLTE App -->
<script src="<?php echo base_url(); ?>assets/admin/dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="<?php echo base_url(); ?>assets/admin/dist/js/demo.js"></script>

<!-- Page specific script -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/select2/js/select2.full.min.js"></script>

<!-- Summernote -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/summernote/summernote-bs4.min.js"></script>
<!-- CodeMirror -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/codemirror.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/css/css.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/xml/xml.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/codemirror/mode/htmlmixed/htmlmixed.js"></script>


<!-- date-range-picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/dropzone/min/dropzone.min.js"></script>



<script src="<?php echo base_url(); ?>assets/admin/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/moment/moment.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/inputmask/jquery.inputmask.min.js"></script>

<!-- DataTables  & Plugins -->
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/jszip/jszip.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/pdfmake/pdfmake.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/pdfmake/vfs_fonts.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.print.min.js"></script>
<script src="<?php echo base_url(); ?>assets/admin/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

<script>
  $(function () {
    $("#example1").DataTable({
      "responsive": true, "lengthChange": false, "autoWidth": false,
      "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
    }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
      "responsive": true,
    });
  });
</script>

<script>
$(document).ready(function () {

$('#changepassword').validate({ // initialize the plugin
    errorPlacement: function($error, $element) {
    $error.appendTo($element.closest("div"));
  },
    rules: {
        old_pass: {
            required: true,
        },
        new_password: {
            required: true,
            notEqualTo:"#old_pass",
            minlength: 6
        },
        confirm_pass: {
            required: true,
            equalTo: "#new_password", 
            minlength: 6
        }
        
    },

    messages :{
        old_pass : {
            required : "Please enter old password",
        },
        new_password : {
            required : "Please enter new password",
            minlength : "Please enter 6 digit or character length",
            notEqualTo : "New password and Old Password Same",
        },
        confirm_pass : {
            required : "Please enter confirm password",
            equalTo : "New password and Confirm Password can't match",
            minlength : "Please enter 6 digit or character length"
        }
    
    }
});

});

</script>

<script>
    $(document).ready(function() {
        // Handle Approve button click
        $('#approveButton').click(function() {
            // Perform actions when the Approve button is clicked
        });

        // Handle Hold button click to toggle the Hold section
        $('#holdButton').click(function() {
            $('#holdSection').toggle(); // Toggle the visibility of the Hold section
        });

        // Handle form submission when the Hold button is clicked
        $('#holdForm').submit(function(e) {
            e.preventDefault(); // Prevent the default form submission
            const holdReason = $('#holdReason').val();
            
            // Here, you can send the hold reason to your server for processing
            
            // Optionally, hide the Hold section again after submission
            $('#holdSection').hide();
        });
    });
</script>

<!-- this link for sweet alert -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
<!-- anove link for sweet alert -->

<script>  
 $(document).ready(function(){
  $(".approve").click(function() {   
    // alert('hii');
    var did = $('#expense_id').val();
    // alert(did);
          var attr_approve =$(this).attr('attr_approve');
          //  alert(attr_approve);
          var tm_id = $('#tour_manager_id').val();
          var pd_id = $('#package_date_id').val();

           
           if(attr_approve != '' && did != '')  
           {  
                $.ajax({  
                     url:"<?php echo base_url(); ?>expences_checker/asign_tour_manager/get_approve",  
                     method:"post",  
                     data:{attr_approve:attr_approve , did:did},  
                     dataType: 'json',
                     success:function(responce){ 
                      // alert('alert done');
                         if(responce = 'true')
                         {
                          console.log('now done'); 
                          swal({
                              title: "success!",
                              text: "This Expense is Approved Now!",
                              type: "success"}).then(function() {
                                window.location.href = "<?=base_url()?>expences_checker/asign_tour_manager/tourwise_expences/"+tm_id+'/'+pd_id;
                          });
                              
                          // alert('This Expence is Approve Now');
                        
                              // alert(responce);
                          
                         }
                     }  
                });  
           } 
          }); 
      });  
 </script>

<script>  
$(document).ready(function(){
    $(".hold").click(function() {   
        var did = $('#expense_id').val();
        var attr_hold = $(this).attr('attr_hold');
        // var hold_reason = $(this).attr('hold_reason');
        var hold_reason = $('#hold_reason').val();
        // alert(hold_reason);

        var tm_id = $('#tour_manager_id').val();
          var pd_id = $('#package_date_id').val();
        
        // Check if hold_reason is empty
        if (hold_reason.trim() === '') {
            alert('Please enter a reason in the textbox.');
            return; // Don't proceed with the AJAX request
        }

        if (attr_hold != '' && did != '' && hold_reason != '') {
            $.ajax({  
                url: "<?php echo base_url(); ?>expences_checker/asign_tour_manager/get_hold",  
                method: "post",  
                data: {attr_hold: attr_hold, did: did, hold_reason: hold_reason},  
                dataType: 'json',
                success: function(response) { 
                  // swal("Hold", "This Expense is Hold Now", "success");
                  swal({
                        title: "success!",
                        text: "This Expense is Hold Now!",
                        type: "success"}).then(function() {
                          window.location.href = "<?=base_url()?>expences_checker/asign_tour_manager/tourwise_expences/"+tm_id+'/'+pd_id;
                    });
                  // setTimeout(function(){
                  //           location.reload();
                  //       }, 4000); 
                  // alert('yess');
                    if (response === 'true') {
                        console.log('now done'); 
                        // alert('doneeeeeeeeeeeee');
                        // Redirect or perform other actions as needed
                    }
                }  
            });  
        }
    }); 
});  
</script>

